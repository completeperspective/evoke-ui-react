/**
 * Button Component Styles
 * Custom styles that complement Tailwind classes
 */
@use '../../styles/abstracts' as *;

.button {
  @include component-base;
  @include focus-ring;

  position: relative;
  cursor: pointer;
  user-select: none;
  transition: all var(--ui-duration-fast) var(--ui-easing-out);

  // Enhanced focus styles for better accessibility
  &:focus-visible {
    outline: 2px solid oklch(var(--ui-color-ring));
    outline-offset: 2px;
  }

  // Loading state styles
  &[aria-disabled='true'] {
    cursor: not-allowed;
    opacity: 0.6;

    // Ensure loading spinner is visible
    .spinner {
      opacity: 1;
    }
  }

  // Icon spacing and alignment
  .icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
  }

  // Loading spinner animation
  .spinner {
    display: inline-block;
    width: 1rem;
    height: 1rem;
    border: 2px solid transparent;
    border-top: 2px solid currentColor;
    border-radius: 50%;
    animation: spin var(--ui-duration-normal) linear infinite;

    @include reduced-motion {
      animation: pulse var(--ui-duration-slow) ease-in-out infinite;
    }
  }

  // Hover enhancement for better interaction feedback
  &:hover:not([disabled]):not([aria-disabled='true']) {
    transform: translateY(-1px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.12);

    @include reduced-motion {
      transform: none;
      box-shadow: none;
    }
  }

  // Active state for better feedback
  &:active:not([disabled]):not([aria-disabled='true']) {
    transform: translateY(0);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.08);

    @include reduced-motion {
      transform: none;
      box-shadow: none;
    }
  }

  // High contrast mode support
  @include high-contrast {
    border: 2px solid currentColor;
    
    &:focus-visible {
      outline: 3px solid;
      outline-offset: 3px;
    }
  }
}

// Keyframes for animations
@keyframes spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}