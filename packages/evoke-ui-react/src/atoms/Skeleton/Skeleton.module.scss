/**
 * Skeleton Component Styles - CVA-First Architecture
 * Minimal SCSS for accessibility, animations, and browser-specific features
 */
@use '../../styles/abstracts' as *;

.skeleton {
  // Prevent text selection during loading states
  user-select: none;
  -webkit-tap-highlight-color: transparent;
  
  // Enhanced accessibility for screen readers and focus management
  @include enhanced-focus-ring;
  
  // Shimmer animation (when CVA animation="shimmer")
  &.shimmer {
    &::after {
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      background: linear-gradient(
        110deg,
        transparent 0%,
        transparent 40%,
        oklch(var(--ui-color-background) / 0.6) 50%,
        transparent 60%,
        transparent 100%
      );
      transform: translateX(-100%) translateZ(0);
      animation: skeletonShimmer 2s ease-in-out infinite;
      z-index: 1;
      // GPU acceleration for smooth performance
      will-change: transform;
      backface-visibility: hidden;
    }
  }
  
  // Static state removes all animations
  &.static {
    animation: none !important;
    
    &::after {
      display: none;
    }
  }
}

// Multi-line text skeleton container (minimal styling)
.textLines {
  // Container query support for responsive line spacing
  container-type: inline-size;
}


// Optimized shimmer animation keyframes
@keyframes skeletonShimmer {
  0% {
    transform: translateX(-100%) skewX(-15deg) translateZ(0);
  }
  100% {
    transform: translateX(100%) skewX(-15deg) translateZ(0);
  }
}


// Accessibility: Reduced motion preferences
@media (prefers-reduced-motion: reduce) {
  .skeleton {
    animation: none !important;
    
    &::after {
      animation: none !important;
    }
  }
}

// Accessibility: High contrast mode support
@media (prefers-contrast: high) {
  .skeleton {
    border-width: 2px !important;
    opacity: 0.8;
    
    &::after {
      display: none;
    }
  }
}

// Print styles - simplified for print media
@media print {
  .skeleton {
    background: #e5e5e5 !important;
    border: 1px solid #ccc !important;
    animation: none !important;
    
    &::after {
      display: none !important;
    }
  }
}




// Container queries for responsive line spacing
@container (max-width: 300px) {
  .textLines {
    gap: 0.25rem;
  }
}

@container (min-width: 500px) {
  .textLines {
    gap: 0.5rem;
  }
}