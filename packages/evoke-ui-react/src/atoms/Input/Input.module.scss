/**
 * Input Component Styles - Minimal SCSS for CVA Enhancement
 * Only includes styles that CVA cannot handle effectively
 */
@use '../../styles/abstracts' as *;

.container {
  // Base container setup
  @include component-base;
}

.input {
  // Enhanced accessibility for focus states
  @include enhanced-focus-ring;
  
  // Ensure text doesn't get selected during file input interaction
  user-select: auto;
  -webkit-tap-highlight-color: transparent;
  
  // Enhanced gradient overlay for visual appeal (CVA cannot handle ::before)
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, transparent 0%, oklch(var(--ui-color-primary) / 0.02) 50%, transparent 100%);
    border-radius: inherit;
    opacity: 0;
    transition: opacity var(--ui-duration-fast) var(--ui-easing-out);
    pointer-events: none;
    z-index: 1;
  }

  // Hover state gradient activation
  &:hover:not(:disabled):not(:focus)::before {
    opacity: 1;
  }

  // Focus state gradient activation
  &:focus::before,
  &:focus-visible::before {
    opacity: 1;
  }

  // Enhanced error state gradient (CVA cannot handle complex ::before logic)
  &[aria-invalid='true']::before {
    background: linear-gradient(135deg, transparent 0%, oklch(var(--ui-color-destructive) / 0.05) 50%, transparent 100%);
    opacity: 1;
  }

  // File input button enhancements (CVA cannot handle ::file-selector-button)
  &[type='file']::file-selector-button {
    transition: all var(--ui-duration-fast) var(--ui-easing-out);
    
    &:hover {
      transform: translateY(-1px);
      
      @include reduced-motion {
        transform: none;
      }
    }

    &:active {
      transform: translateY(0);
      
      @include reduced-motion {
        transform: none;
      }
    }
  }

  // Enhanced placeholder animation (CVA cannot handle complex placeholder states)
  &:focus::placeholder {
    transform: translateY(-1px);
    
    @include reduced-motion {
      transform: none;
    }
  }

  // Disabled state gradient removal
  &:disabled::before {
    opacity: 0;
  }
  
  // Reduced motion preferences
  @media (prefers-reduced-motion: reduce) {
    transition: none !important;
    
    &::before {
      transition: none !important;
    }
    
    &:focus::placeholder {
      transform: none !important;
    }
  }
  
  // High contrast mode enhancements
  @media (prefers-contrast: high) {
    border-width: 2px !important;
    
    &:focus,
    &:focus-visible {
      outline: 3px solid !important;
      outline-offset: 2px !important;
    }

    &::before {
      display: none !important;
    }
  }
  
  // Print styles for accessibility
  @media print {
    background: white !important;
    color: black !important;
    border: 1px solid black !important;
    box-shadow: none !important;
    
    &::before {
      display: none !important;
    }
  }
  
  // Dark theme specific gradient adjustments
  @include dark {
    &::before {
      background: linear-gradient(135deg, transparent 0%, rgba(255, 255, 255, 0.02) 50%, transparent 100%);
    }

    &[aria-invalid='true']::before {
      background: linear-gradient(135deg, transparent 0%, oklch(var(--ui-color-destructive) / 0.1) 50%, transparent 100%);
    }
  }
  
  // Touch device optimizations
  @media (hover: none) and (pointer: coarse) {
    // Ensure minimum touch target size
    min-height: 44px;
    
    // Remove hover effects on touch devices
    &:hover::before {
      opacity: 0;
    }
  }
}

// Enhanced entrance animation for feedback text (CVA cannot handle complex keyframes)
@media (prefers-reduced-motion: no-preference) {
  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translateY(0.25rem);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
}