import{t as e,m as t,r as n}from"../vite-inject-mocker-entry.js";function r(...n){return e(t(n))}function c(e,t=300){const[r,c]=n.useState(e);return n.useEffect(()=>{const n=setTimeout(()=>{c(e)},t);return()=>{clearTimeout(n)}},[e,t]),r}function a(e,t="mousedown"){const r=n.useRef(null);return n.useEffect(()=>{const n=t=>{const n=r.current;n&&!n.contains(t.target)&&e()};return document.addEventListener(t,n),document.addEventListener("touchstart",n),()=>{document.removeEventListener(t,n),document.removeEventListener("touchstart",n)}},[e,t]),r}function s({itemCount:e,onSelect:t,onEscape:r,onEnter:c,loop:a=!0,initialIndex:s=-1}){const[o,l]=n.useState(s),u=n.useCallback(n=>{if(0!==e)switch(n.key){case"ArrowDown":n.preventDefault(),l(t=>{const n=t+1;return n>=e?a?0:t:n});break;case"ArrowUp":n.preventDefault(),l(t=>{const n=t-1;return n<0?a?e-1:0:n});break;case"Enter":n.preventDefault(),o>=0&&o<e&&(c?.(o),t?.(o));break;case"Escape":n.preventDefault(),r?.(),l(-1);break;case"Home":n.preventDefault(),l(0);break;case"End":n.preventDefault(),l(e-1)}},[e,o,t,r,c,a]),i=n.useCallback(()=>{l(s)},[s]);return{selectedIndex:o,setSelectedIndex:l,handleKeyDown:u,resetSelection:i}}function o({key:e="search-history",maxItems:t=10,deduplicate:r=!0}={}){const[c,a]=n.useState([]);n.useEffect(()=>{try{const n=localStorage.getItem(e);if(n){const e=JSON.parse(n).sort((e,t)=>t.timestamp-e.timestamp).map(e=>e.term).slice(0,t);a(e)}}catch(n){}},[e,t]);const s=n.useCallback(t=>{try{const n=t.map((e,t)=>({term:e,timestamp:Date.now()-t}));localStorage.setItem(e,JSON.stringify(n))}catch(n){}},[e]),o=n.useCallback(e=>{e.trim()&&a(n=>{let c=[...n];return r&&(c=c.filter(t=>t!==e)),c.unshift(e),c=c.slice(0,t),s(c),c})},[r,t,s]),l=n.useCallback(e=>{a(t=>{const n=t.filter(t=>t!==e);return s(n),n})},[s]),u=n.useCallback(()=>{a([]);try{localStorage.removeItem(e)}catch(t){}},[e]),i=n.useCallback(e=>void 0===e?c:c.slice(0,e),[c]);return{history:c,addToHistory:o,removeFromHistory:l,clearHistory:u,getRecentSearches:i}}function l(e){const t=e.replace(/oklch\(|\)/g,"").trim().split(/\s+/).map(Number);if(t.length<3||t.some(isNaN))throw new Error(`Invalid OKLCH string: ${e}`);const[n,r,c]=t;if(n<0||n>1)throw new Error(`Lightness must be between 0 and 1, got: ${n}`);if(r<0)throw new Error(`Chroma must be positive, got: ${r}`);return{l:n,c:r,h:c}}function u(e){return`${e.l} ${e.c} ${e.h}`}function i(e,t){const{l:n,c:r,h:c}=l(e);return`${Math.max(0,Math.min(1,n+t))} ${r} ${c}`}function m(e,t){const{l:n,c:r,h:c}=l(e);return`${n} ${Math.max(0,r+t)} ${c}`}function f(e,t){const{l:n,c:r,h:c}=l(e);let a=c+t;return a=(a%360+360)%360,`${n} ${r} ${a}`}function h(e){const t=l(e);return{50:u({...t,l:.95,c:.1*t.c}),100:u({...t,l:.9,c:.2*t.c}),200:u({...t,l:.8,c:.4*t.c}),300:u({...t,l:.7,c:.6*t.c}),400:u({...t,l:.6,c:.8*t.c}),500:u(t),600:u({...t,l:Math.max(.1,t.l-.1),c:1.1*t.c}),700:u({...t,l:Math.max(.1,t.l-.2),c:1.2*t.c}),800:u({...t,l:Math.max(.1,t.l-.3),c:1.1*t.c}),900:u({...t,l:Math.max(.1,t.l-.4),c:.9*t.c}),950:u({...t,l:Math.max(.05,t.l-.5),c:.7*t.c})}}export{a,o as b,r as c,s as d,i as e,m as f,h as g,f as r,c as u};
